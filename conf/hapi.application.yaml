spring:
  datasource:
    url: 'jdbc:postgresql://db:5432/hapi'
    username: fhir_app_user
    password: password
    driverClassName: org.postgresql.Driver
  jpa:
    properties:
      hibernate.dialect: ca.uhn.fhir.jpa.model.dialect.HapiFhirPostgresDialect

# HAPI FHIR Configuration
hapi:
  fhir:
    version: r4
    server:
      path: /fhir
    jpa:
      scheduling:
        enabled: true
    # Custom interceptor configuration
    custom-bean-packages: io.github.steveswinsburg.fhirstore
    custom-interceptor-classes: io.github.steveswinsburg.fhirstore.interceptors.WriteProtectionInterceptor
    
    # Implementation Guide auto-loading
    # Uncomment and configure IGs as needed:
    # implementationguides:
    #   us-core:
    #     name: hl7.fhir.us.core
    #     version: 6.0.0
    #     installMode: STORE_AND_INSTALL

# Custom write protection configuration
fhirstore:
  write-protection:
    enabled: true
    auth-username: ${FHIR_ADMIN_USERNAME:admin}
    auth-password: ${FHIR_ADMIN_PASSWORD:admin123}

# Logging configuration
logging:
  level:
    io.github.steveswinsburg.fhirstore: INFO
    ca.uhn.fhir: WARN